(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)i=o[l],r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0bec":function(t,e,a){},1:function(t,e){},"1fa1":function(t,e,a){"use strict";var n=a("22a5"),r=a.n(n);r.a},2201:function(t,e,a){"use strict";var n=a("c8da"),r=a.n(n);r.a},"22a5":function(t,e,a){},"35fb":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return a(e)}function s(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="4678"},"481b0":function(t,e,a){"use strict";var n=a("0bec"),r=a.n(n);r.a},"4f31":function(t,e,a){"use strict";var n=a("aa05"),r=a.n(n);r.a},"4ff7":function(t,e,a){},5485:function(t,e,a){},"56ab":function(t,e,a){},"5d62":function(t,e,a){"use strict";var n=a("d428"),r=a.n(n);r.a},"5e26":function(t,e,a){"use strict";var n=a("670a"),r=a.n(n);r.a},6058:function(t,e,a){"use strict";var n=a("35fb"),r=a.n(n);r.a},"62c1":function(t,e,a){"use strict";var n=a("5485"),r=a.n(n);r.a},"670a":function(t,e,a){},"6aff":function(t,e,a){},7913:function(t,e,a){"use strict";var n=a("4ff7"),r=a.n(n);r.a},"7b28":function(t,e,a){"use strict";var n=a("d25a"),r=a.n(n);r.a},"7faf":function(t,e,a){"use strict";var n=a("8fba"),r=a.n(n);r.a},"81d0":function(t,e,a){},"8c9f":function(t,e,a){},"8da4":function(t,e,a){},"8e33":function(t,e,a){},"8fba":function(t,e,a){},"901f":function(t,e,a){},a60e:function(t,e,a){},a7f0:function(t,e,a){"use strict";var n=a("81d0"),r=a.n(n);r.a},aa05:function(t,e,a){},b066:function(t,e,a){"use strict";var n=a("a60e"),r=a.n(n);r.a},b095:function(t,e,a){"use strict";var n=a("6aff"),r=a.n(n);r.a},b230:function(t,e,a){},b89d:function(t,e,a){"use strict";var n=a("56ab"),r=a.n(n);r.a},bd3d:function(t,e,a){"use strict";var n=a("8e33"),r=a.n(n);r.a},c54e:function(t,e,a){"use strict";var n=a("901f"),r=a.n(n);r.a},c8da:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n,r,s=a("2b0e"),i=a("28dd"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},c=[],u={},d=u,l=(a("7faf"),a("2877")),p=Object(l["a"])(d,o,c,!1,null,null,null),h=p.exports,m=a("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"column-1"},[n("div",{attrs:{id:"login"}},[n("img",{staticClass:"logo-med",attrs:{src:a("cf05")}}),n("h2",[t._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.username,expression:"username",modifiers:{lazy:!0}}],attrs:{placeholder:"username"},domProps:{value:t.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},change:function(e){t.username=e.target.value}}}),n("span",[t._v(t._s(t.feedback.username))]),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.password,expression:"password",modifiers:{lazy:!0}}],attrs:{placeholder:"password",type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},change:function(e){t.password=e.target.value}}}),n("span",[t._v(t._s(t.feedback.password))]),n("button",{on:{click:t.submit}},[t._v("Submit")])])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h2",[t._v("Ninkasi Brew Hops")])])}],b=(a("6b54"),a("4917"),a("96cf"),a("3b8d")),_=a("3452"),k=a.n(_),g=a("a78e"),w=a.n(g),y=s["a"].extend({name:"login",data:function(){return{isAdmin:!1,username:"",password:"",feedback:{username:"",password:""},submitLink:""}},watch:{username:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!1,e=this.username,0!==e.length){t.next=6;break}this.feedback.username="",t.next=24;break;case 6:if(!(e.length<3||e.length>20)){t.next=10;break}this.feedback.username="username must be between 3 and 20 characters",t.next=24;break;case 10:if(e.match("^[0-9A-z]+$")){t.next=14;break}this.feedback.username="username must only be digits and letters",t.next=24;break;case 14:return t.prev=14,t.next=17,this.$http.get("".concat("http://localhost:3000","/employees/admin/").concat(e));case 17:a=t.sent,this.isAdmin=a.data,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](14),console.error(t.t0);case 24:case"end":return t.stop()}},t,this,[[14,21]])}));function e(){return t.apply(this,arguments)}return e}(),password:function(){var t=this.password;0===t.length?this.feedback.password="":t.length<6||t.length>25?this.feedback.password="password must be between 6 and 25 characters":t.match("^[0-9A-z@#$%*^!-=&]+$")?this.feedback.password="":this.feedback.password="password must only be digits and letters"}},beforeMount:function(){this.submitLink="/home",w.a.getJSON("loggedIn")&&this.sendToHome()},methods:{submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.username,a=this.password,n=k.a.SHA3(a).toString(),t.prev=2,t.next=5,this.$http.post("".concat("http://localhost:3000","/employees/login/"),{username:e,password:n});case 5:r=t.sent,s=r.data,i=s.id,o=s.token,this.createCookie(i,this.username,this.isAdmin,o),this.sendToHome(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),this.feedback.password="Invalid Login";case 14:case"end":return t.stop()}},t,this,[[2,11]])}));function e(){return t.apply(this,arguments)}return e}(),sendToHome:function(){ca.push("home")},createCookie:function(t,e,a,n){w.a.getJSON("loggedIn")||w.a.set("loggedIn",{id:t,username:e,admin:a,token:n})}}}),x=y,j=(a("6058"),Object(l["a"])(x,f,v,!1,null,"5216a8c0",null)),O=j.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.brands&&this.employees&&this.tanks?a("div",[a("div",{staticClass:"header"},[a("a",{on:{click:t.logout}},[t._v("Logout")]),a("h2",[t._v("Ninkasi Admin")])]),a("navbar",{attrs:{activeState:[!1,!1,!1,!0]}}),a("div",{attrs:{id:"content"}},[a("create-tank",{attrs:{tanks:this.tanks,statuses:this.tankStatuses},on:{update:this.tankUpdate}}),a("update-tank",{attrs:{tanks:this.tanks,statuses:this.tankStatuses},on:{update:this.tankUpdate}}),a("create-user",{attrs:{employees:this.employees},on:{update:this.usersUpdate}}),a("edit-user",{attrs:{employees:this.employees},on:{update:this.usersUpdate}}),a("create-brand",{on:{update:this.brandsUpdate}}),a("edit-brand",{attrs:{brands:this.brands},on:{update:this.brandsUpdate}})],1)],1):a("div",[a("loader")],1)},N=[];function D(){w.a.getJSON("loggedIn")&&w.a.remove("loggedIn"),ca.push("/")}(function(t){t["BUSY"]="busy",t["BROKEN"]="broken",t["AVAILABLE"]="available",t["BREWING"]="brewing",t["TRANSFERRING"]="transferring",t["COMPLETED"]="completed"})(n||(n={})),function(t){t[t["PRIMARY_FERMENTATION"]=1]="PRIMARY_FERMENTATION",t[t["EXCEPTION"]=6]="EXCEPTION"}(r||(r={}));var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[a("a",{staticClass:"option",class:{active:t.activeState[0]},on:{click:t.home}},[t._v("Home")]),a("a",{staticClass:"option",class:{active:t.activeState[1]},on:{click:t.batchHistory}},[t._v("Batch History")]),a("a",{staticClass:"option",class:{active:t.activeState[2]},on:{click:t.tankHistory}},[t._v("Tank History")]),this.admin?a("a",{staticClass:"option",class:{active:t.activeState[3]},on:{click:t.adminPage}},[t._v("Admin")]):t._e()])},R=[],A=s["a"].extend({name:"navbar",data:function(){return{admin:!1}},props:["activeState"],beforeMount:function(){this.admin=w.a.getJSON("loggedIn").admin},methods:{home:function(){w.a.getJSON("loggedIn")?ca.push("/home"):ca.push("/")},batchHistory:function(){w.a.getJSON("loggedIn")?ca.push("/batch-history"):ca.push("/")},tankHistory:function(){w.a.getJSON("loggedIn")?ca.push("/tank-history"):ca.push("/")},adminPage:function(){w.a.getJSON("loggedIn")?ca.push("/admin"):ca.push("/")}}}),C=A,$=(a("1fa1"),Object(l["a"])(C,S,R,!1,null,null,null)),E=$.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"element"},[a("h2",[t._v("Create New Tank")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.tank_name,expression:"tank_name",modifiers:{lazy:!0}}],attrs:{placeholder:"New Tank Number"},domProps:{value:t.tank_name},on:{change:function(e){t.tank_name=e.target.value}}}),a("span",[t._v(t._s(t.feedback.tank_name))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"dropdown",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Status on Tank")]),t._l(t.statuses,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),a("div",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.in_use,expression:"in_use"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.in_use)?t._i(t.in_use,null)>-1:t.in_use},on:{change:function(e){var a=t.in_use,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);n.checked?i<0&&(t.in_use=a.concat([s])):i>-1&&(t.in_use=a.slice(0,i).concat(a.slice(i+1)))}else t.in_use=r}}}),a("p",[t._v("Tank is in use")])]),a("div",[a("p",[t._v(t._s(t.feedback.server.tank))])]),a("button",{on:{click:t.tank_submit}},[t._v("Submit")])])},z=[],B=(a("7f7f"),s["a"].extend({name:"create-tank",props:["tanks","statuses"],data:function(){return{tank_name:"",status:"",in_use:!1,feedback:{tank_name:"",server:{tank:""}}}},methods:{tank_submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.tanks.filter(function(t){return t.name===s.tank_name}),0!==e.length){t.next=17;break}return a={name:this.tank_name,status:this.status,in_use:this.in_use},n={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=4,t.next=7,this.$http.post("".concat("http://localhost:3000","/tanks"),a,{headers:n});case 7:r=t.sent,r.ok&&(this.feedback.server.tank="Tank ".concat(this.tank_name," succesfully created."),setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.feedback.server.tank="");case 1:case"end":return t.stop()}},t)})),5e3)),this.$emit("update"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error(t.t0);case 15:t.next=18;break;case 17:this.feedback.tank_name="Tank ".concat(this.tank_name," already exists.");case 18:case"end":return t.stop()}},t,this,[[4,12]])}));function e(){return t.apply(this,arguments)}return e}()}})),P=B,H=Object(l["a"])(P,T,z,!1,null,"6104d8ce",null),M=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tank?a("div",{staticClass:"element"},[a("h2",[t._v("Edit "+t._s(this.tank.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tank_name,expression:"tank_name"}],attrs:{placeholder:"Tank Name",type:"string"},domProps:{value:t.tank_name},on:{input:function(e){e.target.composing||(t.tank_name=e.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"dropdown",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.status=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Status on Tank")]),t._l(t.statuses,function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),a("div",[a("p",[t._v(t._s(t.feedback.server.tank))])]),a("button",{on:{click:t.tankUpdate}},[t._v("Submit")]),a("button",{on:{click:t.clearTank}},[t._v("Select a Tank")])]):a("div",{staticClass:"element"},[a("h2",[t._v("Edit Tank")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tank_id,expression:"tank_id"}],staticClass:"dropdown",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.tank_id=e.target.multiple?a:a[0]},t.populateTank]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Select Tank")]),t._l(t.tanks,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])},U=[],V=s["a"].extend({name:"edit-tank",props:["tanks","statuses"],data:function(){return{tank:void 0,tank_id:"",tank_name:"",status:"",feedback:{server:{tank:""}}}},methods:{tankUpdate:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.tank){t.next=16;break}return e=this.tank.id,a={name:this.tank_name,status:this.status,update_user:w.a.getJSON("loggedIn").id},n={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=4,t.next=7,this.$http.patch("".concat("http://localhost:3000","/tanks/id/").concat(e),a,{headers:n});case 7:r=t.sent,r.ok&&(this.feedback.server.tank="Tank ".concat(name," succesfully updated."),setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s.feedback.server.tank="",s.clearTank();case 2:case"end":return t.stop()}},t)})),5e3)),this.$emit("update"),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error(t.t0),this.feedback.server.tank="Failed to update ".concat(name,".");case 16:case"end":return t.stop()}},t,this,[[4,12]])}));function e(){return t.apply(this,arguments)}return e}(),populateTank:function(){var t=this;if(this.tank_id&&(this.tank=this.tanks.filter(function(e){return e.id===parseInt(t.tank_id,10)})[0],this.tank)){var e=this.tank,a=e.name,n=e.status;this.status=n,this.tank_name=a}},clearTank:function(){this.tank=void 0,this.tank_id=""}}}),Y=V,J=Object(l["a"])(Y,G,U,!1,null,"ce11d566",null),L=J.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"element"},[a("h2",[t._v("Create New User")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.first_name,expression:"first_name",modifiers:{lazy:!0}}],attrs:{placeholder:"First Name"},domProps:{value:t.first_name},on:{change:function(e){t.first_name=e.target.value}}}),a("span",[t._v(t._s(t.feedback.first_name))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.last_name,expression:"last_name",modifiers:{lazy:!0}}],attrs:{placeholder:"Last Name"},domProps:{value:t.last_name},on:{change:function(e){t.last_name=e.target.value}}}),a("span",[t._v(t._s(t.feedback.last_name))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.username,expression:"username",modifiers:{lazy:!0}}],attrs:{placeholder:"Username"},domProps:{value:t.username},on:{change:function(e){t.username=e.target.value}}}),a("span",[t._v(t._s(t.feedback.username))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.password,expression:"password",modifiers:{lazy:!0}}],attrs:{placeholder:"Password",type:"password"},domProps:{value:t.password},on:{change:function(e){t.password=e.target.value}}}),a("span",[t._v(t._s(t.feedback.password))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.passwordcheck,expression:"passwordcheck",modifiers:{lazy:!0}}],attrs:{placeholder:"Re-enter password",type:"password"},domProps:{value:t.passwordcheck},on:{change:function(e){t.passwordcheck=e.target.value}}}),a("span",[t._v(t._s(t.feedback.passwordcheck))]),a("div",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.admin,expression:"admin"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.admin)?t._i(t.admin,null)>-1:t.admin},on:{change:function(e){var a=t.admin,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);n.checked?i<0&&(t.admin=a.concat([s])):i>-1&&(t.admin=a.slice(0,i).concat(a.slice(i+1)))}else t.admin=r}}}),a("p",[t._v("User is admin")])]),a("div",[a("p",[t._v(t._s(t.feedback.server.user))])]),a("button",{on:{click:t.login_submit}},[t._v("Submit")])])},q=[],W=s["a"].extend({name:"create-tank",props:["employees"],data:function(){return{first_name:"",last_name:"",username:"",password:"",passwordcheck:"",admin:!1,feedback:{first_name:"",last_name:"",username:"",password:"",passwordcheck:"",server:{user:""}}}},watch:{first_name:function(){var t=this.first_name;t.match("^[A-z-]+$")||(this.feedback.first_name="First name can only be digits and letters")},last_name:function(){var t=this.last_name;t.match(/^[a-zA-Z\-\s]*$/)||(this.feedback.last_name="Last name can only be letters, spaces, and hyphens")},username:function(){var t=this.username;for(var e in this.employees)if(this.employees[e].username===t)return void(this.feedback.username="Username taken");0===t.length?this.feedback.username="Username required":t.length<3||t.length>20?this.feedback.username="Username must be between 3 and 20 characters":t.match("^[0-9A-z]+$")?this.feedback.username="":this.feedback.username="Username must only be digits and letters"},password:function(){var t=this.password;0===t.length?this.feedback.password="Password required":t.length<6||t.length>25?this.feedback.password="Password must be between 6 and 25 characters":t.match("^[0-9A-z@#$%*^!-=&]+$")?this.feedback.password="":this.feedback.password="Password must only be digits and letters"},passwordcheck:function(){this.passwordcheck===this.password?this.feedback.passwordcheck="":this.feedback.passwordcheck="Passwords must match"}},methods:{login_submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={first_name:this.first_name,last_name:this.last_name,username:this.username,admin:this.admin,phone:"",password:k.a.SHA3(this.password).toString()},a={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=2,t.next=5,this.$http.post("".concat("http://localhost:3000","/employees"),e,{headers:a});case 5:n=t.sent,n.ok&&(this.$emit("update"),this.feedback.server.user="New user succesfully created",setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.feedback.server.user="");case 1:case"end":return t.stop()}},t)})),5e3)),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.error(t.t0),this.feedback.server.user="Failed to create new user.";case 13:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}()}}),X=W,K=Object(l["a"])(X,F,q,!1,null,"3769f780",null),Z=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.employee?a("div",{staticClass:"element"},[a("h2",[t._v("Edit "+t._s(t.name))]),a("table",[a("tr",[t._m(0),a("td",[a("h4",[t._v(t._s(t.name))])])]),a("tr",[t._m(1),a("td",[a("h4",[t._v(t._s(t.username))])])])]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.password,expression:"password",modifiers:{lazy:!0}}],attrs:{placeholder:"Password",type:"password"},domProps:{value:t.password},on:{change:function(e){t.password=e.target.value}}}),a("span",[t._v(t._s(t.feedback.password))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.passwordcheck,expression:"passwordcheck",modifiers:{lazy:!0}}],attrs:{placeholder:"Re-enter password",type:"password"},domProps:{value:t.passwordcheck},on:{change:function(e){t.passwordcheck=e.target.value}}}),a("span",[t._v(t._s(t.feedback.passwordcheck))]),a("div",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.admin,expression:"admin"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.admin)?t._i(t.admin,null)>-1:t.admin},on:{change:function(e){var a=t.admin,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);n.checked?i<0&&(t.admin=a.concat([s])):i>-1&&(t.admin=a.slice(0,i).concat(a.slice(i+1)))}else t.admin=r}}}),a("p",[t._v("User is admin")])]),a("div",[a("p",[t._v(t._s(t.feedback.server.user))])]),a("button",{on:{click:t.editSubmit}},[t._v("Submit")]),a("button",{on:{click:t.clearUser}},[t._v("Select a User")])]):a("div",{staticClass:"element"},[a("h2",[t._v("Edit User")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.employee_id,expression:"employee_id"}],staticClass:"dropdown",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.employee_id=e.target.multiple?a:a[0]},t.populateEmployee]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Select Employee")]),t._l(t.employees,function(e,n){return a("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.first_name+" "+e.last_name))])})],2)])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("h4",[t._v("Name:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("h4",[t._v("Username:")])])}],et=s["a"].extend({name:"edit-user",props:["employees"],data:function(){return{employee:void 0,employee_id:"",first_name:"",last_name:"",username:"",password:"",admin:!1,passwordcheck:"",feedback:{first_name:"",last_name:"",username:"",password:"",passwordcheck:"",server:{user:""}}}},computed:{name:function(){if(this.employee)return"".concat(this.first_name," ").concat(this.last_name)}},watch:{first_name:function(){var t=this.first_name;t.match("^[A-z-]+$")||(this.feedback.first_name="First name can only be digits and letters")},last_name:function(){var t=this.last_name;t.match(/^[a-zA-Z\-\s]*$/)||(this.feedback.last_name="Last name can only be letters, spaces, and hyphens")},username:function(){var t=this.username;for(var e in this.employees)if(this.employees[e].username===t)return void(this.feedback.username="Username taken");0===t.length?this.feedback.username="Username required":t.length<3||t.length>20?this.feedback.username="Username must be between 3 and 20 characters":t.match("^[0-9A-z]+$")?this.feedback.username="":this.feedback.username="Username must only be digits and letters"},password:function(){var t=this.password;0===t.length?this.feedback.password="Password required":t.length<6||t.length>25?this.feedback.password="Password must be between 6 and 25 characters":t.match("^[0-9A-z@#$%*^!-=&]+$")?this.feedback.password="":this.feedback.password="Password must only be digits and letters"},passwordcheck:function(){this.password&&this.passwordcheck===this.password?this.feedback.passwordcheck="":this.feedback.passwordcheck="Passwords must match"}},methods:{editSubmit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.employee){t.next=14;break}return e={first_name:this.first_name,last_name:this.last_name,username:this.username,admin:this.admin,phone:"",password:k.a.SHA3(this.password).toString()},a={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=3,t.next=6,this.$http.patch("".concat("http://localhost:3000","/employees/id/").concat(this.employee.id),e,{headers:a});case 6:n=t.sent,n.ok&&(this.$emit("update"),this.feedback.server.user="User succesfully edited.",setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r.feedback.server.user="",r.clearUser();case 2:case"end":return t.stop()}},t)})),5e3)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error(t.t0),this.feedback.server.user="Failed to edit user.";case 14:case"end":return t.stop()}},t,this,[[3,10]])}));function e(){return t.apply(this,arguments)}return e}(),populateEmployee:function(){var t=this;if(this.employee_id&&(this.employee=this.employees.filter(function(e){return e.id===parseInt(t.employee_id,10)})[0],this.employee)){var e=this.employee,a=e.first_name,n=e.last_name,r=(e.password,e.admin),s=e.username;e.phone;this.first_name=a,this.last_name=n,this.username=s,this.admin=r}},clearUser:function(){this.employee=void 0,this.employee_id=""}}}),at=et,nt=(a("a7f0"),Object(l["a"])(at,Q,tt,!1,null,"19315f21",null)),rt=nt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"element"},[a("h2",[t._v("Create New Brand")]),a("div",{attrs:{id:"full"}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.recipe_name,expression:"recipe_name",modifiers:{lazy:!0}}],attrs:{placeholder:"Brand Name"},domProps:{value:t.recipe_name},on:{change:function(e){t.recipe_name=e.target.value}}}),a("span",[t._v(t._s(t.feedback.brandID))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.airplane_code,expression:"airplane_code",modifiers:{lazy:!0}}],attrs:{placeholder:"Airport Code"},domProps:{value:t.airplane_code},on:{change:function(e){t.airplane_code=e.target.value}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yeast,expression:"yeast"}],attrs:{placeholder:"Yeast"},domProps:{value:t.yeast},on:{input:function(e){e.target.composing||(t.yeast=e.target.value)}}}),a("span",[t._v(t._s(t.feedback.yeast))])]),a("div",{attrs:{id:"half"}},t._l(t.instructions,function(e,n){return a("div",{key:n,staticClass:"inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ingredient,expression:"instruction.ingredient"}],attrs:{id:"halfsizeleft",placeholder:"Dry Hop/Adjunct"},domProps:{value:e.ingredient},on:{input:function(a){a.target.composing||t.$set(e,"ingredient",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"instruction.ratio"}],attrs:{id:"halfsizeright",placeholder:"Rate"},domProps:{value:e.ratio},on:{input:function(a){a.target.composing||t.$set(e,"ratio",a.target.value)}}})])}),0),a("button",{attrs:{type:"button"},on:{click:function(e){return t.addInstrction()}}},[t._v("Add Another Row")]),a("button",{on:{click:t.recipe_submit}},[t._v("Submit")]),a("span",[t._v(t._s(t.feedback.server.brand))])])},it=[],ot=s["a"].extend({name:"create-brand",data:function(){return{brandID:"",airplane_code:"",instructions:[],recipe_name:"",yeast:"",feedback:{brandID:"",server:{brand:""}}}},mounted:function(){for(var t=0;t<4;t++)this.addInstruction()},watch:{brandID:function(){var t=this.brandID;t&&t.match("^[0-9A-z]+$")?this.feedback.brandID="":this.feedback.brandID="Brand ID can only be numbers and dashes"}},methods:{addInstruction:function(){this.instructions.push({ingredient:"",ratio:""})},recipe_submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.instructions.filter(function(t){return""!==t.ingredient&&""!==t.ratio}),a={airplane_code:this.airplane_code,instructions:JSON.stringify(e),yeast:this.yeast,name:this.recipe_name},n={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=3,t.next=6,this.$http.post("".concat("http://localhost:3000","/recipes"),a,{headers:n});case 6:r=t.sent,r.ok&&(this.$emit("update"),this.feedback.server.brand="Created a new brand.",setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.feedback.server.brand="");case 1:case"end":return t.stop()}},t)})),5e3)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error(t.t0),this.feedback.server.brand="Failed to create new brand.";case 14:case"end":return t.stop()}},t,this,[[3,10]])}));function e(){return t.apply(this,arguments)}return e}()}}),ct=ot,ut=(a("7913"),Object(l["a"])(ct,st,it,!1,null,"26056674",null)),dt=ut.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.brand?a("div",{staticClass:"element"},[a("h2",[t._v("Edit "+t._s(t.recipe_name))]),a("div",{attrs:{id:"full"}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.recipe_name,expression:"recipe_name",modifiers:{lazy:!0}}],attrs:{placeholder:"Brand Name"},domProps:{value:t.recipe_name},on:{change:function(e){t.recipe_name=e.target.value}}}),a("span",[t._v(t._s(t.feedback.brandID))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.airplane_code,expression:"airplane_code",modifiers:{lazy:!0}}],attrs:{placeholder:"Airport Code"},domProps:{value:t.airplane_code},on:{change:function(e){t.airplane_code=e.target.value}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.yeast,expression:"yeast"}],attrs:{placeholder:"Yeast"},domProps:{value:t.yeast},on:{input:function(e){e.target.composing||(t.yeast=e.target.value)}}}),a("span",[t._v(t._s(t.feedback.yeast))])]),a("div",{attrs:{id:"half"}},t._l(t.instructions,function(e,n){return a("div",{key:n,staticClass:"inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ingredient,expression:"instruction.ingredient"}],attrs:{id:"halfsizeleft",placeholder:"Dry Hop/Adjunct"},domProps:{value:e.ingredient},on:{input:function(a){a.target.composing||t.$set(e,"ingredient",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ratio,expression:"instruction.ratio"}],attrs:{id:"halfsizeright",placeholder:"Rate"},domProps:{value:e.ratio},on:{input:function(a){a.target.composing||t.$set(e,"ratio",a.target.value)}}})])}),0),a("div",[a("button",{attrs:{type:"button"},on:{click:function(e){return t.addInstruction()}}},[t._v("Add Another Row")]),a("button",{on:{click:t.recipe_submit}},[t._v("Submit")]),a("button",{on:{click:t.clearBrand}},[t._v("Select a Brand")])]),a("span",[t._v(t._s(t.feedback.server.brand))])]):a("div",{staticClass:"element"},[a("h2",[t._v("Edit Brand")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.brandID,expression:"brandID"}],staticClass:"dropdown",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.brandID=e.target.multiple?a:a[0]},t.populateBrand]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Select Brand")]),t._l(t.brands,function(e,n){return a("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])},pt=[],ht=s["a"].extend({name:"edit-brand",props:["brands"],data:function(){return{brand:void 0,brandID:"",airplane_code:"",instructions:[],recipe_name:"",yeast:"",feedback:{brandID:"",server:{brand:""}}}},mounted:function(){for(var t=0;t<4;t++)this.addInstruction()},methods:{addInstruction:function(){this.instructions.push({ingredient:"",ratio:""})},recipe_submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.instructions.filter(function(t){return""!==t.ingredient&&""!==t.ratio}),a={id:parseInt(this.brandID),yeast:parseInt(this.yeast),airplane_code:this.airplane_code,instructions:JSON.stringify(e),name:this.recipe_name,update_user:w.a.getJSON("loggedIn").id},n={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=3,t.next=6,this.$http.patch("".concat("http://localhost:3000","/recipes/id/").concat(a.id),a,{headers:n});case 6:r=t.sent,r.ok&&(this.$emit("update"),this.feedback.server.brand="Edited brand ".concat(this.recipe_name,"."),setTimeout(Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s.feedback.server.brand="",s.clearBrand();case 2:case"end":return t.stop()}},t)})),5e3)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),console.error(t.t0),this.feedback.server.brand="Failed to edit brand ".concat(this.recipe_name,".");case 14:case"end":return t.stop()}},t,this,[[3,10]])}));function e(){return t.apply(this,arguments)}return e}(),populateBrand:function(){var t=this;if(this.brandID&&(this.brand=this.brands.filter(function(e){return e.id===parseInt(t.brandID,10)})[0],this.brand)){var e=this.brand,a=(e.id,e.name),n=e.airplane_code,r=e.yeast,s=e.instructions;console.log(this.brand),this.recipe_name=a,this.airplane_code=n,this.yeast=r.toString(10),this.instructions=s}},clearBrand:function(){this.brand=void 0,this.brandID=""}}}),mt=ht,ft=(a("c54e"),Object(l["a"])(mt,lt,pt,!1,null,"518993dd",null)),vt=ft.exports,bt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lds-ring"},[a("div"),a("div"),a("div"),a("div")])}],kt=s["a"].extend({name:"loader"}),gt=kt,wt=(a("d3df"),Object(l["a"])(gt,bt,_t,!1,null,"a6189204",null)),yt=wt.exports,xt=s["a"].extend({name:"admin",components:{navbar:E,"create-tank":M,"update-tank":L,"create-user":Z,"edit-user":rt,"create-brand":dt,"edit-brand":vt,Loader:yt},data:function(){return{employees:[],tanks:[],brands:[],tankStatuses:[n.BUSY,n.BROKEN,n.AVAILABLE,n.BREWING,n.TRANSFERRING,n.COMPLETED],debugging:""}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")&&w.a.getJSON("loggedIn").admin||(console.log(w.a.getJSON("loggedIn")),ca.push("/")),t.prev=1,t.next=4,this.tankUpdate();case 4:return t.next=6,this.usersUpdate();case 6:return t.next=8,this.brandsUpdate();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:D,tankUpdate:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("".concat("http://localhost:3000","/tanks"));case 3:e=t.sent,this.tanks=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),usersUpdate:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("".concat("http://localhost:3000","/employees"));case 3:e=t.sent,this.employees=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),brandsUpdate:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("".concat("http://localhost:3000","/recipes"));case 3:e=t.sent,this.brands=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()}}),jt=xt,Ot=(a("e513"),Object(l["a"])(jt,I,N,!1,null,"6427c1e4",null)),It=Ot.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("a",{on:{click:t.logout}},[t._v("Logout")]),a("h2",[t._v("Home")])]),a("navbar",{attrs:{activeState:[!0,!1,!1,!1]}}),a("div",{attrs:{id:"content"}},[a("tank-monitoring")],1)],1)},Dt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.tanks?a("div",{attrs:{id:"tankInfo"}},[a("h2",[t._v("Tank Info")]),t.tanks.length>0?a("div",{attrs:{id:"tankContents"}},t._l(t.tanks,function(e){return a("a",{key:e.id,on:{click:function(a){return t.showTankInfo(e.id)}}},[a("div",{staticClass:"tank",class:e.action_id},[a("div",{staticClass:"tank-name"},[t._v("\n            "+t._s(e.name)+"\n          ")]),a("table",[a("tr",[e.airplane_code?a("td",[t._v(t._s(e.airplane_code))]):t._e(),e.pressure?a("td",[t._v(t._s(e.pressure)+" psi")]):a("td",[t._v(t._s(e.status))])]),a("tr",[e.batch?a("td",[t._v(t._s(e.batch.name))]):t._e(),e.temperature?a("td",[t._v(t._s(e.temperature)+"ÂºF")]):t._e()])]),e.action&&"No Action"!==e.action?a("div",{staticClass:"tank-action"},[t._v("\n            "+t._s(e.action)+"\n          ")]):t._e()])])}),0):a("div",{staticClass:"text-center"},[t._v("\n      No tanks exist yet\n    ")]),a("bulk-entry",{attrs:{tanks:t.tanks}})],1):a("div",{staticClass:"center"},[a("loader")],1)])},Rt=[],At=(a("ac4d"),a("8a81"),a("55dd"),a("c5f6"),a("768b")),Ct=(a("ac6a"),a("5df3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",{staticClass:"text-center"},[t._v("Input Alcolyzer Data")]),a("form",{staticClass:"dataEntry",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"col-3 inputGroup"},[a("input",{attrs:{type:"file",placeholder:"Upload From CSV"},on:{change:t.readAlcolyzerData}})]),a("div",{staticClass:"col-3 inputGroup"},[a("datepicker",{attrs:{placeholder:"Date: Last Batch"},model:{value:t.goal_time,callback:function(e){t.goal_time=e},expression:"goal_time"}})],1),a("button",{staticClass:"col-3"},[t._v("Submit")])]),a("h5",{staticClass:"text-center"},[t._v(t._s(t.update_text))])])}),$t=[],Et=(a("456d"),a("28a5"),a("c1df")),Tt=a.n(Et),zt=a("fa33"),Bt=s["a"].extend({name:"bulk-entry",props:["tanks"],components:{loader:yt,Datepicker:zt["a"]},data:function(){return{update_text:"",goal_time:void 0}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{readAlcolyzerData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.preventDefault(),a=e.target.files[0],"text/csv"!==a.type&&"text/plain"!==a.type&&"application/vnd.ms-excel"!==a.type?alert("File type not supported"):this.file=a;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),updateTanks:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,n,r,s,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=w.a.getJSON("loggedIn"),n={Authorization:"Bearer ".concat(a.token)},this.tanks){t.next=4;break}return t.abrupt("return");case 4:return r=function(t){return e.filter(function(e){return e.id===t.name.slice(1)&&"available"!=t.status})[0]},s=this.tanks.filter(function(t){return r(t)}).map(function(t){var e=r(t);return{tank:t,batch:t.batch,reading:e}}),t.next=8,Promise.all(s.map(function(t){var e=t.batch,r=t.reading;return Object(b["a"])(regeneratorRuntime.mark(function t(){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={recipe_id:Number(e.recipe_id),tank_id:Number(e.tank_id),batch_id:Number(e.id),volume:Number(e.volume),bright:Number(e.bright),generation:Number(e.generation),name:e.name,ph:Number(r.pH),abv:Number(r.ABV),pressure:Number(0),temperature:Number(r.temp),sg:Number(r.SG),measured_on:Tt()(c.goal_time).toISOString(),update_user:Number(a.id)},t.next=3,c.$http.post("".concat("http://localhost:3000","/batches/update"),s,{headers:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))()}));case 8:i=t.sent,i?(o=i.reduce(function(t,e,a){return"".concat(t).concat(s[a].tank.name,", ")},""),this.update_text="tanks updated: ".concat(o.slice(0,-2))):this.update_text="updates failed";case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=[],n=new FileReader,n.onload=function(){if(n.result){var t=n.result.split("\n"),e={pH:["pH"],ABV:["Alcohol (% v/v)"],SG:["Apparent Specific Gravity"],id:["Sample Name"],temp:["Temperature"],time:["Date"]},s=Object.keys(e).map(function(t){return e[t].map(function(e){return{key:e,value:t}})}).reduce(function(t,e){return e.reduce(function(t,e){return t[e.key]=e.value,t},t)},{}),i=t[4].split(",").map(function(t){return t in s?s[t]:void 0}),o=t.slice(5).map(function(t){var e={pH:"",ABV:"",SG:"",id:"",temp:"",time:""},a=t.split(",").reduce(function(t,e,a){return i[a]&&(t[i[a]]=e),t},e);return a.time=Tt()(a.time).format("MM/DD/YYYY"),a}),c=Math.max.apply(Math,o.map(function(t){return t.time}));r.goal_time=r.goal_time?Tt()(r.goal_time).format("MM/DD/YYYY"):c,a=o.filter(function(t){return t.time===r.goal_time})}0!==a.length&&r.updateTanks(a)},this.file?n.readAsText(this.file):alert("No file specifed");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}}),Pt=Bt,Ht=(a("5e26"),Object(l["a"])(Pt,Ct,$t,!1,null,"956dc7f2",null)),Mt=Ht.exports,Gt=a("fa6a"),Ut=s["a"].extend({name:"tank-monitoring",components:{loader:yt,bulkEntry:Mt,Datepicker:zt["a"]},data:function(){return{tanks:void 0,goal_time:void 0}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")||ca.push("/"),this.file=null,t.prev=2,t.next=5,Promise.all([this.$http.get("".concat("http://localhost:3000","/tanks")),this.$http.get("".concat("http://localhost:3000","/batches")),this.$http.get("".concat("http://localhost:3000","/actions")),this.$http.get("".concat("http://localhost:3000","/recipes"))]);case 5:return e=t.sent,a=Object(At["a"])(e,4),n=a[0],r=a[1],s=a[2],i=a[3],o=Object(Gt["a"])(n.data,function(t){return t.name},"asc"),t.next=10,Promise.all(o.map(function(t){return c.createTankModel(t,r.data,i.data,s.data)}));case 10:this.tanks=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),console.error(t.t0);case 16:case"end":return t.stop()}},t,this,[[2,13]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:D,showTankInfo:function(t){ca.push({name:"tank-info",params:{tankID:t}})},createTankModel:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a,n,r){var s,i,o,c,u,d,l,p,h,m,f,v,b,_,k,g,w,y,x,j;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s={id:Number(e.id),name:e.name,status:e.status},i=a.filter(function(t){return null===t.completed_on&&t.tank_id===e.id}).sort(function(t,e){return Tt.a.utc(e.started_on).diff(Tt.a.utc(t.started_on))})[0],!i){t.next=63;break}for(s.batch={},s.batch.tank_id=s.id,s.batch.id=i.id,s.batch.name=i.name,s.recipe_id=i.recipe_id,s.batch.recipe_id=i.recipe_id,s.batch.volume=i.volume,s.batch.bright=i.bright,s.batch.generation=i.generation,o=!0,c=!1,u=void 0,t.prev=15,d=n[Symbol.iterator]();!(o=(l=d.next()).done);o=!0)p=l.value,i.recipe_id===p.id&&(s.airplane_code=p.airplane_code);t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](15),c=!0,u=t.t0;case 23:t.prev=23,t.prev=24,o||null==d.return||d.return();case 26:if(t.prev=26,!c){t.next=29;break}throw u;case 29:return t.finish(26);case 30:return t.finish(23);case 31:if(!e.in_use){t.next=37;break}return t.next=34,this.$http.get("".concat("http://localhost:3000","/versions/batch/").concat(i.id));case 34:h=t.sent,m=h.data.map(function(t){return t.measured_on=Tt()(t.measured_on),t}).sort(function(t,e){return Tt.a.utc(t.measured_on).diff(Tt.a.utc(e.measured_on))}),m.length>0&&(f=m[m.length-1],s.pressure=f.pressure,s.temperature=f.temperature);case 37:return t.next=39,this.$http.get("".concat("http://localhost:3000","/tasks/batch/").concat(i.id));case 39:if(v=t.sent,b=v.data.filter(function(t){return!t.completed_on}),!(b.length>0)){t.next=63;break}for(_=b[0],s.action_id=_.action_id,k=!0,g=!1,w=void 0,t.prev=47,y=r[Symbol.iterator]();!(k=(x=y.next()).done);k=!0)j=x.value,s.action_id===j.id&&(s.action=j.name,s.action_id=j.classname);t.next=55;break;case 51:t.prev=51,t.t1=t["catch"](47),g=!0,w=t.t1;case 55:t.prev=55,t.prev=56,k||null==y.return||y.return();case 58:if(t.prev=58,!g){t.next=61;break}throw w;case 61:return t.finish(58);case 62:return t.finish(55);case 63:return t.abrupt("return",s);case 64:case"end":return t.stop()}},t,this,[[15,19,23,31],[24,,26,30],[47,51,55,63],[56,,58,62]])}));function e(e,a,n,r){return t.apply(this,arguments)}return e}()}}),Vt=Ut,Yt=(a("b066"),Object(l["a"])(Vt,St,Rt,!1,null,"ff916852",null)),Jt=Yt.exports,Lt=s["a"].extend({name:"home",components:{tankMonitoring:Jt,navbar:E},beforeMount:function(){w.a.getJSON("loggedIn")||ca.push("/")},methods:{logout:D}}),Ft=Lt,qt=(a("b89d"),Object(l["a"])(Ft,Nt,Dt,!1,null,"43e4fe3b",null)),Wt=qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("a",{on:{click:t.logout}},[t._v("Logout")]),a("h2",[t._v("Tank Data")])]),a("navbar",{attrs:{activeState:[!1,!1,!1,!1]}}),a("div",{staticClass:"title"},[a("h3",[t._v("Tank "+t._s(t.tankInfo.name))])]),t.tank&&this.tank.in_use&&t.recipe&&t.batch?a("div",{attrs:{id:"content"}},[a("div",{attrs:{id:"info-content"}},[a("div",{attrs:{id:"tank"}},[a("h2",[t._v("Info")]),a("tank-status",{attrs:{tankInfo:t.tankInfo,task:t.task}}),a("recipe",{attrs:{id:"recipe",recipe:t.recipe,volume:t.tankInfo.volume}})],1),a("div",{attrs:{id:"entry"}},[a("update-action",{attrs:{tank:t.tank,batch:t.batch,activeTask:t.task},on:{newDataCallback:t.loadData}}),a("data-entry",{attrs:{tank:t.tank,batch:t.batch,recipe:t.recipe,activeTask:t.task},on:{newDataCallback:t.loadData}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.versions.length>0,expression:"versions.length > 0"}],attrs:{id:"data"}},[a("h2",[t._v("Batch History")]),a("div",{attrs:{id:"charts"}},[a("chart",{staticClass:"chart",attrs:{title:"pH",date:t.pHData.map(function(t){return t.date}),data:t.pHData.map(function(t){return t.data})}}),a("chart",{staticClass:"chart",attrs:{title:"ABV",date:t.abvData.map(function(t){return t.date}),data:t.abvData.map(function(t){return t.data})}}),a("chart",{staticClass:"chart",attrs:{title:"SG",date:t.fermentationData.map(function(t){return t.date}),data:t.fermentationData.map(function(t){return t.data})}}),a("chart",{staticClass:"chart",attrs:{title:"Temperature",date:t.tempData.map(function(t){return t.date}),data:t.tempData.map(function(t){return t.data})}})],1)])]):t._e(),t.tank&&!this.tank.in_use?a("div",{attrs:{id:"new-batch"}},[a("new-batch",{attrs:{tank:this.tank}})],1):t._e(),t.tank||t.recipe||t.batch?t._e():a("div",{staticClass:"center"},[a("loader")],1)],1)},Kt=[],Zt=a("75fc"),Qt=a("cebc"),te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.recipe,expression:"recipe"}],attrs:{id:"recipe"}},[a("h2",[t._v(t._s(this.recipe.name))]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(this.recipe.instructions,function(e){return a("tr",{key:e.ingredient},[a("td",[t._v(t._s(e.ingredient))]),a("td",[t._v(t._s(e.ratio))]),a("td",[t._v(t._s(Number(e.ratio)*t.volume))])])}),0)])])},ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Dry Hop/Adjunct")]),a("th",[t._v("Rate")]),a("th",[t._v("Weight")])])])}],ae=s["a"].extend({name:"recipe",props:{recipe:{type:Object,required:!0},volume:{type:Number,required:!0}},beforeMount:function(){w.a.getJSON("loggedIn")||ca.push("/")}}),ne=ae,re=(a("62c1"),Object(l["a"])(ne,te,ee,!1,null,"20e35fad",null)),se=re.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},oe=[],ce=(a("6762"),a("2fdb"),a("2d5f")),ue=a.n(ce),de=(a("8b5c"),a("feed"),s["a"].extend({name:"chart",props:["title","date","data"],data:function(){return{}},watch:{data:function(){this.buildChart()},date:function(){this.buildChart()}},methods:{buildChart:function(){var t=this;this.focusItems=[];var e=this.date.map(function(e,a){return[e[0],t.data[a][0]]}),a={},n=e.reduce(function(t,e,n){var r;return e[1]in a?(r="".concat(e[1]," - ").concat(a[e[1]]+1),a[e[1]]+=1):(r=e[1],a[e[1]]=1),t[r]=e[0],t},{}),r=[].concat(Object(Zt["a"])(this.date),Object(Zt["a"])(this.data)),s=ue.a.generate({bindto:this.$el,title:{text:this.title},data:{xs:n,order:"desc",columns:r},axis:{x:{type:"timeseries",tick:{format:"%m/%d %H:%M"}},y:{tick:{format:function(t){return+t.toFixed(10)}}}},zoom:{enabled:!0},legend:{item:{onclick:function(e){t.focusItems.includes(e)?t.focusItems=t.focusItems.filter(function(t){return t!==e}):t.focusItems.push(e),s.focus(t.focusItems)},onmouseover:function(e){s.focus([e].concat(Object(Zt["a"])(t.focusItems)))},onmouseout:function(e){s.focus(t.focusItems)}}}});e.length>0&&(this.focusItems.push(e[0][1]),s.focus(this.focusItems))}}})),le=de,pe=Object(l["a"])(le,ie,oe,!1,null,"02b75c72",null),he=pe.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"dataEntry",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("h2",[t._v("Data Entry")]),a("div",{staticClass:"formFields grid"},[a("div",{staticClass:"col-3 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pH,expression:"pH"}],attrs:{type:"number",step:"0.01",required:""},domProps:{value:t.pH},on:{input:function(e){e.target.composing||(t.pH=e.target.value)}}}),a("label",[t._v("pH")])]),a("div",{staticClass:"col-3 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ABV,expression:"ABV"}],attrs:{type:"number",step:"0.01",required:""},domProps:{value:t.ABV},on:{input:function(e){e.target.composing||(t.ABV=e.target.value)}}}),a("label",[t._v("ABV")])]),a("div",{staticClass:"col-3 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pressure,expression:"pressure"}],attrs:{type:"number",step:"0.01",required:""},domProps:{value:t.pressure},on:{input:function(e){e.target.composing||(t.pressure=e.target.value)}}}),a("label",[t._v("Pressure")])]),a("div",{staticClass:"col-3 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.SG,expression:"SG"}],attrs:{type:"number",step:"0.000001",required:""},domProps:{value:t.SG},on:{input:function(e){e.target.composing||(t.SG=e.target.value)}}}),a("label",[t._v("Specific Gravity")])]),a("div",{staticClass:"col-3 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.temp,expression:"temp"}],attrs:{type:"number",step:"0.1",required:""},domProps:{value:t.temp},on:{input:function(e){e.target.composing||(t.temp=e.target.value)}}}),a("label",[t._v("Temperature")])]),a("div",{staticClass:"col-3 time inputGroup"},[a("datepicker",{attrs:{placeholder:"Select Date"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),a("button",[t._v("Submit")])]),t.admin?a("form",{staticClass:"dataEntry",on:{submit:function(e){return e.preventDefault(),t.completeBatch(e)}}},[a("button",{staticClass:"col-2"},[t._v("Complete Batch")])]):t._e()])},fe=[],ve=a("a8db"),be=s["a"].extend({name:"data-entry",props:{tank:{type:Object,required:!0},batch:{type:Object,required:!0},recipe:{type:Object,required:!0},activeTask:{type:Object,required:!1,default:void 0}},components:{Datepicker:zt["a"]},data:function(){return{pH:"",ABV:"",bright:"",pressure:"",SG:"",temp:"",time:"",update:!0,admin:!1}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:w.a.getJSON("loggedIn")||ca.push("/"),this.admin=w.a.getJSON("loggedIn").admin,this.time=Tt()().format("YYYY-MM-DDTHH:mm");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{reset:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.pH="",this.ABV="",this.pressure="",this.SG="",this.temp="";case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),readAlcolyzerData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,n,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.preventDefault(),a=new FileReader,n=e.target.files[0],a.onload=function(){if(a.result){var t=a.result.split("\n");while(!t.slice(-1)[0])t.pop();var e=t.slice(-1)[0].split(","),n=Object(At["a"])(e,8);r.time=n[1],r.pH=n[5],r.SG=n[6],r.ABV=n[7]}},"text/csv"!==n.type?alert("File type not supported"):a.readAsText(n);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=w.a.getJSON("loggedIn"),n={Authorization:"Bearer ".concat(a.token)},r={recipe_id:Number(this.recipe.id),tank_id:Number(this.tank.id),batch_id:Number(this.batch.id),volume:Number(this.batch.volume),bright:Number(this.batch.bright),generation:Number(this.batch.generation),name:this.batch.name,ph:Number(this.pH),abv:Number(this.ABV),pressure:Number(this.pressure),temperature:Number(this.temp),sg:Number(this.SG),measured_on:Tt()(this.time).toISOString(),update_user:Number(a.id)},t.prev=3,t.next=6,this.$http.post("".concat("http://localhost:3000","/batches/update"),r,{headers:n});case 6:t.sent,this.$emit("newDataCallback"),this.reset(),e.target.reset(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.error(t.t0);case 15:case"end":return t.stop()}},t,this,[[3,12]])}));function e(e){return t.apply(this,arguments)}return e}(),completeBatch:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,r,s,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),!this.admin){t.next=28;break}if(a=w.a.getJSON("loggedIn"),r={Authorization:"Bearer ".concat(a.token)},s=confirm("Are you sure you want to close the batch?"),!s){t.next=28;break}return t.prev=6,t.next=9,this.$http.delete("".concat("http://localhost:3000","/batches/close/").concat(this.batch.id),{headers:r});case 9:return i=this.tank,i.id,o=Object(ve["a"])(i,["id"]),o.status=n.AVAILABLE,o.in_use=!1,o.update_user=a.id,t.next=15,this.$http.patch("".concat("http://localhost:3000","/tanks/id/").concat(this.tank.id),o,{headers:r});case 15:if(!this.activeTask){t.next=22;break}return c=this.activeTask,c.completed_on=Tt()().toISOString(),c.update_user=Number(a.id),t.next=21,this.$http.patch("".concat("http://localhost:3000","/tasks"),c,{headers:r});case 21:t.sent;case 22:ca.push("/"),t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](6),console.error(t.t0);case 28:case"end":return t.stop()}},t,this,[[6,25]])}));function e(e){return t.apply(this,arguments)}return e}()}}),_e=be,ke=(a("bd3d"),Object(l["a"])(_e,me,fe,!1,null,"75bf7962",null)),ge=ke.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.tank?a("div",[a("h2",[t._v("Create new batch")]),a("form",{attrs:{id:"create-new-batch"},on:{submit:function(e){return e.preventDefault(),t.createBatch(e)}}},[a("div",{staticClass:"grid"},[a("div",{staticClass:"col-1 inputGroup"},[a("h4",[t._v("Batch Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.batch_name,expression:"batch_name"}],attrs:{type:"string",placeholder:"Name"},domProps:{value:t.batch_name},on:{input:function(e){e.target.composing||(t.batch_name=e.target.value)}}}),a("span",[t._v(t._s(t.feedback.name))])]),a("div",{staticClass:"col-1"},[a("h4",[t._v("Recipe")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.recipe_id,expression:"recipe_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.recipe_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Select a Recipe")]),t._l(t.recipes,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2),a("span",[t._v(t._s(t.feedback.recipe))])]),a("div",{staticClass:"col-1 inputGroup"},[a("h4",[t._v("Volume")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],attrs:{type:"number",step:"0.01",required:""},domProps:{value:t.volume},on:{input:function(e){e.target.composing||(t.volume=e.target.value)}}}),a("label",[t._v("Volume")]),a("span",[t._v(t._s(t.feedback.generation))])]),a("div",{staticClass:"col-1 inputGroup"},[a("h4",[t._v("Yeast Generation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.generation,expression:"generation"}],attrs:{type:"number",step:"1",required:""},domProps:{value:t.generation},on:{input:function(e){e.target.composing||(t.generation=e.target.value)}}}),a("label",[t._v("Yeast Generation")])]),a("span",[t._v(t._s(t.feedback.generation))])]),a("span",[t._v(t._s(t.feedback.status))]),a("button",[t._v("Submit")])])]):a("loader")},ye=[],xe=s["a"].extend({name:"new-batch",components:{loader:yt},props:{tank:{type:Object,required:!0}},data:function(){return{recipes:[],recipe_id:"",batch_name:"",volume:"",generation:"",feedback:{status:"",batch_name:"",recipe:"",volume:"",generation:""}}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")||ca.push("/"),t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/recipes"));case 4:e=t.sent,this.recipes=e.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{createBatch:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.tank.status===n.AVAILABLE&&this.recipe_id&&this.batch_name&&this.volume&&this.generation)){t.next=20;break}return a=w.a.getJSON("id"),r={name:this.batch_name,generation:parseInt(this.generation,10),volume:parseInt(this.volume,10),bright:0,recipe_id:parseInt(this.recipe_id,10),tank_id:this.tank.id},s={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.prev=4,t.next=7,this.$http.post("".concat("http://localhost:3000","/batches/new"),r,{headers:s});case 7:return t.sent,t.next=10,this.updateTank(a,s);case 10:return t.next=12,this.createInitialTask(a);case 12:ca.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](4),console.error(t.t0);case 18:t.next=25;break;case 20:this.recipe_id||(this.feedback.recipe="Select a recipe."),this.batch_name||(this.feedback.batch_name="Enter a name for the batch"),this.volume||(this.feedback.volume="Enter the volume of the batch"),this.generation||(this.feedback.generation="Enter the yeast generation of the batch"),this.tank.status!==n.AVAILABLE&&(this.feedback.status="Unable to create batch. Tank status: ".concat(this.tank.status));case 25:case"end":return t.stop()}},t,this,[[4,15]])}));function e(e){return t.apply(this,arguments)}return e}(),createInitialTask:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e){var a,n,s,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("".concat("http://localhost:3000","/batches/"));case 3:return a=t.sent,n=a.data.filter(function(t){return t.name===i.batch_name}),s={employee_id:e,batch_id:n[0].id,action_id:r.PRIMARY_FERMENTATION,added_on:(new Date).toUTCString()},t.next=8,this.$http.post("".concat("http://localhost:3000","/tasks/"),s);case 8:t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(e){return t.apply(this,arguments)}return e}(),updateTank:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a){var r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=this.tank,s=r.id,i=Object(ve["a"])(r,["id"]),i.in_use=!0,i.update_user=e,i.status=n.BREWING,t.prev=4,t.next=7,this.$http.patch("".concat("http://localhost:3000","/tanks/id/").concat(s),i,{headers:a});case 7:t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[4,10]])}));function e(e,a){return t.apply(this,arguments)}return e}()}}),je=xe,Oe=(a("5d62"),Object(l["a"])(je,we,ye,!1,null,"6eb504f8",null)),Ie=Oe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{id:"updateAction"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("h2",[t._v("Update Action")]),a("div",{staticClass:"col-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.action,expression:"action"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.action=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Select an Action")]),t._l(t.actions,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n        "+t._s(e.name))])})],2)]),this.action===this.exception?a("div",{staticClass:"col-1 inputGroup"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"string",required:""},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),a("label",[t._v("Reason for exception.")])]):t._e(),t._m(0)])},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",[t._v("Submit")])])}],Se=s["a"].extend({name:"update-action",props:{tank:{type:Object,required:!0},activeTask:{type:Object,required:!1},batch:{type:Object,required:!0}},data:function(){return{actions:[],action:"",exception:r.EXCEPTION,reason:""}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e={Authorization:"Bearer ".concat(w.a.getJSON("loggedIn").token)},t.next=4,this.$http.get("".concat("http://localhost:3000","/actions"),e);case 4:a=t.sent,n=a.data,this.actions=n,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=w.a.getJSON("loggedIn"),a={Authorization:"Bearer ".concat(e.token)},!this.action){t.next=29;break}if(!this.activeTask||this.activeTask.action_id===this.action){t.next=16;break}return n=this.activeTask,n.completed_on=Tt()().toISOString(),this.action===this.exception&&this.reason&&(n.exception_reason=this.reason),t.prev=7,t.next=10,this.$http.patch("".concat("http://localhost:3000","/tasks"),n,{headers:a});case 10:t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](7),console.error(t.t0);case 16:if(this.activeTask&&this.activeTask.action_id===this.action){t.next=28;break}return r={added_on:Tt()().toISOString(),assigned:!0,batch_id:this.batch?this.batch.id:void 0,action_id:Number(this.action),employee_id:Number(e.id)},this.action===this.exception&&this.reason&&(r.exception_reason=this.reason),t.prev=19,t.next=22,this.$http.post("".concat("http://localhost:3000","/tasks"),r,{headers:a});case 22:t.sent,t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](19),console.error(t.t1);case 28:this.$emit("newDataCallback");case 29:case"end":return t.stop()}},t,this,[[7,13],[19,25]])}));function e(){return t.apply(this,arguments)}return e}()}}),Re=Se,Ae=(a("481b0"),Object(l["a"])(Re,Ne,De,!1,null,"9f54353e",null)),Ce=Ae.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table"},[a("tbody",[""!==t.tankInfo.action&&"No Action"!==t.tankInfo.action?a("tr",{staticClass:"important",attrs:{scope:"row"}},[a("td",[t._v("Action")]),a("td",[t._v(t._s(t.tankInfo.action))])]):t._e(),this.task&&this.task.exception_reason?a("tr",{staticClass:"important"},[a("td",[t._v("Exception Reason")]),a("td",[t._v(t._s(this.task.exception_reason))])]):t._e(),a("tr",[a("td",[t._v("Status")]),a("td",[t._v(t._s(this.tankInfo.status))])]),a("tr",[a("td",[t._v("Brand ID")]),a("td",[t._v(t._s(this.tankInfo.recipe_id))])]),a("tr",[a("td",[t._v("Batch Name")]),a("td",[t._v(t._s(this.tankInfo.batch_name))])]),a("tr",[a("td",[t._v("Generation")]),a("td",[t._v(t._s(this.tankInfo.generation))])]),a("tr",[a("td",[t._v("Volume")]),a("td",[t._v(t._s(this.tankInfo.volume))])]),a("tr",[a("td",[t._v("Bright")]),a("td",[t._v(t._s(this.tankInfo.bright))])]),a("tr",[a("td",[t._v("Temperature")]),a("td",[t._v(t._s(this.tankInfo.temp)+"Âº F")])]),a("tr",[a("td",[t._v("Specific Gravity")]),a("td",[t._v(t._s(this.tankInfo.SG))])]),a("tr",[a("td",[t._v("pH")]),a("td",[t._v(t._s(this.tankInfo.pH))])]),a("tr",[a("td",[t._v("Pressure")]),a("td",[t._v(t._s(this.tankInfo.pressure))])]),a("tr",[a("td",[t._v("ABV")]),a("td",[t._v(t._s(this.tankInfo.ABV)+"%")])]),a("tr",[a("td",[t._v("Time Last Updated")]),a("td",[t._v(t._s(this.tankInfo.time))])])])])},Ee=[],Te=s["a"].extend({name:"tank-status",props:["tankInfo","task"]}),ze=Te,Be=(a("f582"),Object(l["a"])(ze,$e,Ee,!1,null,"439be3f7",null)),Pe=Be.exports,He=s["a"].extend({name:"tank-info",components:{navbar:E,recipe:se,chart:he,dataEntry:ge,newBatch:Ie,tankStatus:Pe,updateAction:Ce,loader:yt},data:function(){return{tankInfo:{id:Number(this.$route.params.tankID),recipe_id:void 0,batch_id:void 0,batch_name:"",volume:"",bright:"",generation:"",SG:"",pH:"",ABV:"",temp:"",status:"",time:"",name:"",action:"",in_use:void 0},doneLink:"",home:"",debugging:"",tank:void 0,task:void 0,batch:void 0,versions:[],fermentationData:[],pHData:[],abvData:[],tempData:[],recipe:void 0,action:void 0}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")||ca.push("/"),this.doneLink="/home",this.home="/home",t.prev=3,t.next=6,this.$http.get("".concat("http://localhost:3000","/tanks/id/").concat(this.$route.params.tankID));case 6:return e=t.sent,a=e.data,this.tank=a,this.tankInfo=Object(Qt["a"])({},this.tankInfo,{id:a.id,name:a.name,status:a.status,in_use:a.in_use}),t.next=12,this.loadData();case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](3),console.error(t.t0),this.debugging="Debugging Flag: Response error, cant access tanks page";case 18:case"end":return t.stop()}},t,this,[[3,14]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:D,getData:function(t,e){return[[void 0===e&&this.batch?this.batch.name:e].concat(Object(Zt["a"])(this.versions.map(function(e){return e[t]})))]},loadData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.loadBatchData();case 3:return t.next=5,Promise.all([this.loadTaskData(),this.loadHistoryData(),this.loadGraphData(this.batch?this.batch.id:"",this.batch?this.batch.recipe_id.toString():"")]);case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),loadBatchData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("".concat("http://localhost:3000","/batches/tank/").concat(this.tankInfo.id));case 3:if(e=t.sent,a=e.data.filter(function(t){return null===t.completed_on}),a.length>1?(this.debugging="Debugging Flag: more than one open batch",n=a.sort(function(t,e){return Tt.a.utc(e.started_on).diff(Tt.a.utc(t.started_on))})[0]):1===a.length&&(n=a[0]),this.batch=n,n?(this.tankInfo.batch_id=n.id,this.tankInfo.batch_name=n.name,this.tankInfo.bright=n.bright,this.tankInfo.generation=n.generation,this.tankInfo.volume=n.volume,this.tankInfo.recipe_id=n.recipe_id):(this.tankInfo.batch_id="",this.tankInfo.batch_name="",this.tankInfo.bright="",this.tankInfo.generation="",this.tankInfo.volume="",this.tankInfo.recipe_id=""),!n){t.next=13;break}return t.next=11,this.$http.get("".concat("http://localhost:3000","/recipes/id/").concat(n.recipe_id));case 11:s=t.sent,r=s.data;case 13:this.recipe=r,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](0),this.debugging="Debugging Flag: Response error, cant access batches page";case 19:case"end":return t.stop()}},t,this,[[0,16]])}));function e(){return t.apply(this,arguments)}return e}(),loadTaskData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.batch){t.next=25;break}return t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/tasks/batch/").concat(this.batch.id));case 4:if(e=t.sent,a=e.data,n=a.filter(function(t){return!t.completed_on}),n.length>1?(this.debugging="Debugging Fal: more than one active task for batch",r=n.sort(function(t,e){return Tt.a.utc(e.added_on).diff(Tt.a.utc(t.added_on))})[0]):1===n.length&&(r=n[0]),this.task=r,!r){t.next=18;break}return t.next=12,this.$http.get("".concat("http://localhost:3000","/actions/id/").concat(r.action_id));case 12:i=t.sent,s=i.data,this.tankInfo.action=s.name,this.tankInfo.time=Tt()(r.added_on).format("MM/DD/YY H:mm"),t.next=19;break;case 18:this.tankInfo.action="";case 19:this.action=s,t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](1),console.error(t.t0);case 25:case"end":return t.stop()}},t,this,[[1,22]])}));function e(){return t.apply(this,arguments)}return e}(),loadHistoryData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.batch){t.next=13;break}return t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/versions/batch/").concat(this.tankInfo.batch_id));case 4:e=t.sent,this.versions=[],this.versions=e.data.map(function(t){return t.measured_on=Tt()(t.measured_on),t}).sort(function(t,e){return Tt.a.utc(t.measured_on).diff(Tt.a.utc(e.measured_on))}),this.versions.length>0?(a=this.versions[this.versions.length-1],this.tankInfo.ABV=a.abv,this.tankInfo.pH=a.ph,this.tankInfo.temp=a.temperature,this.tankInfo.SG=a.sg,this.tankInfo.pressure=a.pressure,this.tankInfo.time=a.measured_on.format("MM/DD/YY H:mm")):(this.tankInfo.ABV="",this.tankInfo.pH="",this.tankInfo.temp="",this.tankInfo.SG="",this.tankInfo.pressure=""),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}(),loadGraphData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a){var n,r,s,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("".concat("http://localhost:3000","/batches/recipe/").concat(a));case 2:return n=t.sent,r=n.data.sort(function(t,e){return Tt.a.utc(e.started_on).diff(Tt.a.utc(t.started_on))}),r.some(function(t,a){return s=a,t.id===e}),r=s?r.splice(s,10):[],i=this.batch?Tt()(this.batch.started_on):void 0,t.next=9,Promise.all(r.map(function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a){var n,r,s,o,u,d,l,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.$http.get("".concat("http://localhost:3000","/versions/batch/").concat(e.id));case 2:return n=t.sent,r=n.data.map(function(t){return t.measured_on=Tt()(t.measured_on),t}).sort(function(t,e){return Tt.a.utc(t.measured_on).diff(Tt.a.utc(e.measured_on))}),s=r.map(function(t){return t.sg}),o=r.map(function(t){return t.ph}),u=r.map(function(t){return t.abv}),d=r.map(function(t){return t.temperature}),l=r.map(function(t){return t.measured_on}),p=l.map(function(t){return Tt()(i).add(Tt.a.duration(t.diff(l[0])).asMilliseconds(),"ms")}),t.abrupt("return",{sg:{data:[e.name].concat(Object(Zt["a"])(s)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},ph:{data:[e.name].concat(Object(Zt["a"])(o)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},abv:{data:[e.name].concat(Object(Zt["a"])(u)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},temp:{data:[e.name].concat(Object(Zt["a"])(d)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))}});case 11:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()));case 9:o=t.sent,this.fermentationData=o.map(function(t){return t.sg}),this.pHData=o.map(function(t){return t.ph}),this.abvData=o.map(function(t){return t.abv}),this.tempData=o.map(function(t){return t.temp});case 14:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()}}),Me=He,Ge=(a("4f31"),Object(l["a"])(Me,Xt,Kt,!1,null,"632be842",null)),Ue=Ge.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"login"}},[t._v("Logout")]),a("h2",[t._v("Batch History")])],1),a("navbar",{attrs:{activeState:[!1,!0,!1,!1]}}),a("div",{attrs:{id:"content"}},[a("div",[a("h2",[t._v("Batch")]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.batch_id,expression:"batch_id"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.batch_id=e.target.multiple?a:a[0]},t.batchChoose]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Batch")]),t._l(t.batches,function(e,n){return a("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2),a("a",{attrs:{id:"csvDownload"},on:{click:function(e){return t.downloadCSV()}}},[t.batch_id?a("button",{attrs:{type:"button",name:"button"}},[t._v("\n            Download CSV\n          ")]):t._e()])])]),t.batch_id&&t.batch?a("div",[a("div",{staticClass:"tables"},[a("data-table",{staticClass:"table",attrs:{title:"",data:[t.batch],headers:t.batch_titles,fields:[function(t){return t.volume},function(t){return t.bright},function(t){return t.generation},function(e){return t.formatDate(e.started_on)},function(e){return t.formatDate(e.completed_on)}]}})],1),a("div",{attrs:{id:"charts"}},[a("chart",{staticClass:"chart",attrs:{title:"pH",date:t.pHData.map(function(t){return t.date}),data:t.pHData.map(function(t){return t.data})}}),a("chart",{staticClass:"chart",attrs:{title:"ABV",date:t.abvData.map(function(t){return t.date}),data:t.abvData.map(function(t){return t.data})}}),a("chart",{staticClass:"chart",attrs:{title:"SG",date:t.fermentationData.map(function(t){return t.date}),data:t.fermentationData.map(function(t){return t.data})}}),a("chart",{attrs:{title:"Temperature",date:t.tempData.map(function(t){return t.date}),data:t.tempData.map(function(t){return t.data})}})],1),a("div",{staticClass:"tables"},[a("div",[a("data-table",{staticClass:"table",attrs:{title:"Tasks",data:t.tasks,headers:t.task_titles,fields:[function(e){return t.actions.filter(function(t){return t.id===e.action_id})[0].name},function(e){return t.getEmployeeName(t.employees.filter(function(t){return t.id===e.employee_id})[0])},function(e){return t.formatDate(e.added_on)},function(e){return t.formatDate(e.completed_on)}]}})],1),a("div",[a("data-table",{staticClass:"table",attrs:{title:"Version",data:t.versions,headers:t.version_titles,fields:[function(e){return t.formatDate(e.measured_on)},function(t){return t.sg},function(t){return t.ph},function(t){return t.abv},function(t){return t.temperature},function(t){return t.pressure}]}})],1)])]):t.loading?a("div",{staticClass:"center"},[a("loader")],1):a("div")])],1)},Ye=[],Je=a("01c8"),Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v(t._s(t.title))]),a("table",[a("tr",t._l(t.headers,function(e){return a("th",[t._v(t._s(e))])}),0),t._l(t.data,function(e){return a("tr",t._l(t.fields,function(n){return a("td",[t._v(t._s(n(e)))])}),0)})],2)])},Fe=[],qe=s["a"].extend({name:"data-table",props:["title","data","headers","fields"]}),We=qe,Xe=(a("2201"),Object(l["a"])(We,Le,Fe,!1,null,"7a5ec72a",null)),Ke=Xe.exports,Ze=s["a"].extend({name:"batch-history",components:{navbar:E,chart:he,dataTable:Ke,loader:yt},data:function(){return{batch_titles:["Volume","Bright","Generation","Date Started","Date Completed"],version_titles:["Date","SG","pH","ABV","temp","pressure"],task_titles:["Action","Employee","Date Started","Date Completed"],mobile:!1,batch_id:"",batches:[],batch:{name:"",generation:0,volume:0,bright:0,recipe_id:0,tank_id:0,started_on:"",completed_on:""},versions:[],tasks:[],employees:[],actions:[],loading:!1,fermentationData:[],pHData:[],abvData:[],tempData:[]}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")||ca.push("/"),t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/batches/"));case 4:return e=t.sent,t.next=7,this.$http.get("".concat("http://localhost:3000","/employees/"));case 7:return a=t.sent,t.next=10,this.$http.get("".concat("http://localhost:3000","/actions/"));case 10:n=t.sent,this.employees=a.data,this.actions=n.data,this.batches=Object(Gt["a"])(e.data,function(t){return t.name},"desc"),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),console.error(t.t0);case 19:case"end":return t.stop()}},t,this,[[1,16]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:D,home:function(){ca.push("/")},getEmployeeName:function(t){var e="N/A";return t&&t.first_name&&t.last_name&&(e="".concat(t.first_name," ").concat(t.last_name)),e},getData:function(t,e){return[[void 0===e?this.batch.name:e].concat(Object(Zt["a"])(this.versions.map(function(e){return e[t]})))]},formatDate:function(t){return t?Tt()(t).format("MM-DD-YYYY"):""},batchChoose:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a,n,r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.batch=this.batches.filter(function(t){return t.id===s.batch_id})[0],t.next=4,Promise.all([Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$http.get("".concat("http://localhost:3000","/versions/batch/").concat(s.batch_id));case 2:return e=t.sent,t.abrupt("return",e.data.map(function(t){return t.measured_on=Tt()(t.measured_on),t}).sort(function(t,e){return Tt.a.utc(t.measured_on).diff(Tt.a.utc(e.measured_on))}));case 4:case"end":return t.stop()}},t)}))(),Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$http.get("".concat("http://localhost:3000","/tasks/batch/").concat(s.batch_id));case 2:return e=t.sent,t.abrupt("return",e.data.map(function(t){return t.added_on=Tt()(t.added_on),t}));case 4:case"end":return t.stop()}},t)}))(),this.loadGraphData(this.batch.id,this.batch.recipe_id)]);case 4:e=t.sent,a=Object(Je["a"])(e),n=a[0],r=a[1],a.slice(2),this.versions=n,this.tasks=r,this.loading=!1;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),downloadCSV:function(){var t=document.getElementById("csvDownload");t&&(t.setAttribute("href",encodeURI(this.generateCSV())),t.setAttribute("download","batch_history_".concat(this.batch.name,"_(").concat(Tt()().format("MM-DD-YYYY"),").csv")))},generateCSV:function(){var t=this,e="data:text/csv;charset=utf-8,",a=this.versions.map(function(t){return t.measured_on}).concat(this.tasks.map(function(t){return t.added_on}));a.sort(function(t,e){return Tt.a.utc(t).diff(Tt.a.utc(e))});var n=a.map(function(e){var a=t.tasks.filter(function(t){return t.added_on===e}),n=t.versions.filter(function(t){return t.measured_on===e}),r=[Array(Math.max(a.length,n.length))].map(function(t){return Array(9).map(function(t){return""})});r.forEach(function(t){return t[0]=e});n.map(function(t){return[String(t.sg),String(t.abv),String(t.ph),String(t.temperature),String(t.pressure)]}).forEach(function(t,e){var a;return(a=r[e]).splice.apply(a,[1,t.length].concat(Object(Zt["a"])(t)))}),a.map(function(e){return[String(t.actions.filter(function(t){return t.id==e.action_id})[0].name),String(t.getEmployeeName(t.employees.filter(function(t){return t.id==e.employee_id})[0]))]}).forEach(function(t,e){var a;return(a=r[e]).splice.apply(a,[6,t.length].concat(Object(Zt["a"])(t)))});return r}),r=("".concat(this.batch_titles),"".concat(this.version_titles.filter(function(t){return-1==t.indexOf("Date")}))),s="".concat(this.task_titles.filter(function(t){return-1==t.indexOf("Date")})),i="".concat(n.map(function(t){return"".concat(t.join(","),",")}).join("\r\n"));return"".concat(e,"Date,").concat(r,",").concat(s,"\n").concat(i)},loadGraphData:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a){var n,r,s,i,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("".concat("http://localhost:3000","/batches/recipe/").concat(a));case 2:return n=t.sent,r=n.data.sort(function(t,e){return Tt.a.utc(e.started_on).diff(Tt.a.utc(t.started_on))}),r.some(function(t,a){return s=a,t.id===e}),r=r.splice(s,10),i=Tt()(this.batch.started_on),t.next=9,Promise.all(r.map(function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(e,a){var n,r,s,o,u,d,l,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.$http.get("".concat("http://localhost:3000","/versions/batch/").concat(e.id));case 2:return n=t.sent,r=n.data.map(function(t){return t.measured_on=Tt()(t.measured_on),t}).sort(function(t,e){return Tt.a.utc(t.measured_on).diff(Tt.a.utc(e.measured_on))}),s=r.map(function(t){return t.sg}),o=r.map(function(t){return t.ph}),u=r.map(function(t){return t.abv}),d=r.map(function(t){return t.temperature}),l=r.map(function(t){return t.measured_on}),p=l.map(function(t){return Tt()(i).add(Tt.a.duration(t.diff(l[0])).asMilliseconds(),"ms")}),t.abrupt("return",{sg:{data:[e.name].concat(Object(Zt["a"])(s)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},ph:{data:[e.name].concat(Object(Zt["a"])(o)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},abv:{data:[e.name].concat(Object(Zt["a"])(u)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))},temp:{data:[e.name].concat(Object(Zt["a"])(d)),date:["Days".concat(a)].concat(Object(Zt["a"])(p))}});case 11:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()));case 9:o=t.sent,this.fermentationData=o.map(function(t){return t.sg}),this.pHData=o.map(function(t){return t.ph}),this.abvData=o.map(function(t){return t.abv}),this.tempData=o.map(function(t){return t.temp});case 14:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()}}),Qe=Ze,ta=(a("7b28"),Object(l["a"])(Qe,Ve,Ye,!1,null,"126497e3",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"login"}},[t._v("Logout")]),a("h2",[t._v("Tank History")])],1),a("navbar",{attrs:{activeState:[!1,!1,!0,!1]}}),a("div",{attrs:{id:"content"}},[a("div",[a("h2",[t._v("Tank")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tank_id,expression:"tank_id"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.tank_id=e.target.multiple?a:a[0]},t.tankChoose]}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Tank")]),t._l(t.tanks,function(e,n){return a("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)]),t.tank_id&&t.histories&&t.tank?a("table",[t._m(0),t._l(t.histories,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.volume))]),a("td",[t._v(t._s(e.bright))]),a("td",[t._v(t._s(e.generation))]),a("td",[t._v(t._s(t.formatDate(e.started_on)))]),a("td",[t._v(t._s(t.formatDate(e.completed_on)))]),a("td",[t._v(t._s(e.update_user))])])})],2):t._e(),a("a",{attrs:{id:"csvDownload"},on:{click:function(e){return t.downloadCSV()}}},[t.tank_id?a("button",{attrs:{type:"button",name:"button"}},[t._v("\n        Download\n      ")]):t._e()])])],1)},na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Name")]),a("th",[t._v("Volume")]),a("th",[t._v("Bright")]),a("th",[t._v("Generation")]),a("th",[t._v("Started")]),a("th",[t._v("Completed")]),a("th",[t._v("Updater")])])}],ra=s["a"].extend({name:"tank-history",components:{navbar:E},data:function(){return{mobile:!1,tank_id:"",tanks:[],tank:{id:-1,name:"",status:"",in_use:!1},histories:[]}},beforeMount:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return w.a.getJSON("loggedIn")||ca.push("/"),t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/tanks/"));case 4:e=t.sent,this.tanks=Object(Gt["a"])(e.data,function(t){return t.name},"asc"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{logout:D,home:function(){ca.push("/")},formatDate:function(t){return t?Tt()(t).format("MM-DD-YYYY"):""},tankChoose:function(){var t=Object(b["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.tank=this.tanks.filter(function(t){return t.id===a.tank_id})[0],t.prev=1,t.next=4,this.$http.get("".concat("http://localhost:3000","/batches/tank/").concat(this.tank_id));case 4:e=t.sent,this.histories=e.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),downloadCSV:function(){var t=document.getElementById("csvDownload");t&&(t.setAttribute("href",encodeURI(this.generateCSV())),t.setAttribute("download","tank_history_".concat(this.tank.name,"_(").concat(Tt()().format("MM-DD-YYYY"),").csv")))},generateCSV:function(){var t=this.histories.map(function(t){return[t.name,t.volume,t.bright,t.generation,t.started_on,t.completed_on,t.update_user]});t.unshift(["Name","Volume","Bright","Generation","Start Date","End Date","Updater"]);var e="data:text/csv;charset=utf-8,";return"".concat(e).concat(t.map(function(t){return"".concat(t.join(","),",")}).join("\r\n"))}}}),sa=ra,ia=(a("b095"),Object(l["a"])(sa,aa,na,!1,null,"1e0512ef",null)),oa=ia.exports;s["a"].use(m["a"]);var ca=new m["a"]({mode:"history",routes:[{component:O,name:"login",path:"/"},{component:It,name:"admin",path:"/admin"},{component:Wt,name:"home",path:"/home"},{component:Jt,name:"tank-monitoring",path:"/tank-monitoring"},{component:Ue,name:"tank-info",path:"/tank-info/:tankID"},{component:ea,name:"batch-history",path:"/batch-history"},{component:oa,name:"tank-history",path:"/tank-history"}]}),ua=a("2f62");s["a"].use(ua["a"]);var da=new ua["a"].Store({state:{},mutations:{},actions:{}});s["a"].config.productionTip=!1,s["a"].use(i["a"]),new s["a"]({router:ca,store:da,render:function(t){return t(h)}}).$mount("#app")},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},d25a:function(t,e,a){},d3df:function(t,e,a){"use strict";var n=a("b230"),r=a.n(n);r.a},d428:function(t,e,a){},e513:function(t,e,a){"use strict";var n=a("8da4"),r=a.n(n);r.a},f582:function(t,e,a){"use strict";var n=a("8c9f"),r=a.n(n);r.a}});
//# sourceMappingURL=app.a91f1114.js.map